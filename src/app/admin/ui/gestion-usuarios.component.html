<div *ngIf="mensaje" class="alert" [ngClass]="{'alert-success': mensaje.tipo === 'success', 'alert-error': mensaje.tipo === 'error'}">
    {{ mensaje.texto }}
  </div>
  
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner"></div>
  </div>
  
  <div class="gestion-container">
    <div class="header">
      <h2>Gestión de Usuarios</h2>
    </div>
  
    <div class="card">
      <div class="card-header">
        <h3>Usuarios Registrados</h3>
      </div>
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Correo</th>
              <th>Rol</th>
              <th class="text-center">Acción</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let usuario of usuarios">
              <td class="text-center">{{ usuario.id_usuario }}</td>
              <td>{{ usuario.nombre }}</td>
              <td>{{ usuario.correo }}</td>
              <td>
                <select class="role-select" [(ngModel)]="usuario.rol">
                  <option value="cliente">Cliente</option>
                  <option value="admin">Admin</option>
                </select>
              </td>
              <td class="text-center">
                <button class="btn-guardar" (click)="guardarRol(usuario)">
                  <i class="fas fa-save"></i> Guardar
                </button>
              </td>
            </tr>
            <tr *ngIf="!isLoading && usuarios.length === 0">
              <td colspan="5" class="text-center empty-state">No se encontraron usuarios.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>